# Compute Instances Configuration Template
# Defines instances across the multi-tier NCC architecture

compute_instances = {
  # --- Management Tier ---
  "trust-mgmt-vm" = {
    instance_name           = "customer1-dev-trust-mgmt"
    network_key             = "trust"
    subnet_name             = "trust-subnet"
    zone                    = "asia-south1-a"
    machine_type            = "e2-micro"
    disk_size_gb            = 20
    disk_type               = "pd-standard"
    additional_disks        = []
    enable_snapshots        = false
    deletion_protection     = false
    custom_tags             = ["mgmt-server"]
    custom_labels           = { tier = "trust" }
  }

  # --- Tiered App Infrastructure ---
  "web-a-vm" = {
    instance_name           = "customer1-dev-web-a-vm"
    network_key             = "web-a"
    subnet_name             = "web-a-subnet"
    zone                    = "asia-south1-a"
    machine_type            = "e2-micro"
    disk_size_gb            = 20
    disk_type               = "pd-standard"
    additional_disks        = []
    enable_snapshots        = false
    deletion_protection     = false
    custom_tags             = ["web-server"]
    custom_labels           = { tier = "web", env = "a" }
  }

  "app-a-vm" = {
    instance_name           = "customer1-dev-app-a-vm"
    network_key             = "app-a"
    subnet_name             = "app-a-subnet"
    zone                    = "asia-south1-a"
    machine_type            = "e2-micro"
    disk_size_gb            = 20
    disk_type               = "pd-standard"
    additional_disks        = []
    enable_snapshots        = false
    deletion_protection     = false
    custom_tags             = ["app-server"]
    custom_labels           = { tier = "app", env = "a" }
  }

  "db-a-vm" = {
    instance_name           = "customer1-dev-db-a-vm"
    network_key             = "db-a"
    subnet_name             = "db-a-subnet"
    zone                    = "asia-south1-a"
    machine_type            = "e2-micro"
    disk_size_gb            = 20
    disk_type               = "pd-standard"
    additional_disks        = []
    enable_snapshots        = false
    deletion_protection     = false
    custom_tags             = ["db-server"]
    custom_labels           = { tier = "db", env = "a" }
  }
}
